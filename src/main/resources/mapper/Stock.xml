<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jackie.jr.mybatis.inter.IStockOperation">
    <select id="selectStockByID" parameterType="int" resultType="Stock">
        select * from `historystockinfo` where stockid = #{id}
    </select>

    <select id="selectStocks" parameterType="int"  resultMap="resultListStock">
        select * from `historystockinfo` where stockid = #{stockid}
    </select>

    <insert id="addStock" parameterType="Stock" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO historystockinfo(stockid,date,open,high,low,close,volume,adjclose)
        values(#{stockid},#{date},#{open},#{high},#{low},#{close},#{volume},#{adjclose})
    </insert>

    <update id="updateStock" parameterType="Stock" >
        update historystockinfo set  date=#{date},open=#{open},high=#{high},low=#{low},close=#{close},volume=#{volume},
        adjclose=#{adjclose} where stockid=#{stockid}

    </update>

    <delete id="deleteStock" parameterType="int">
        delete from historystockinfo where stockid=#{id}
    </delete>

    <resultMap id="resultListStock" type="Stock">
        <result column="stockid" property="stockid"/>
        <result column="date" property="date"/>
        <result column="open" property="open"/>
        <result column="high" property="high"/>
        <result column="low" property="low"/>
        <result column="close" property="close"/>
        <result column="volume" property="volume"/>
        <result column="adjclose" property="adjclose"/>
    </resultMap>

</mapper>